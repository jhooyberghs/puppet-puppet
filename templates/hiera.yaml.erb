---
# Hiera 5 Global configuration file

version: 5

defaults:
  lookup_key: eyaml_lookup_key
  datadir: <%= @datadir %>

hierarchy:
  - name: <hiera name> 
    options:
      pkcs7_private_key: <%= scope['settings::confdir'] %>/eyaml/keys/<%= @private_key %>
      pkcs7_public_key:  <%= scope['settings::confdir'] %>/eyaml/keys/<%= @public_key %>
    paths:
      - "lsf/%{clientcert}.yaml"
      - "nodes/%{clientcert}.yaml"
      - "roles/%{environment}/%{role}.yaml"
      - "roles/common/%{role}.yaml"
      - "%{environment}.yaml"
      - puppet/%{puppet_master_env}.yaml
      - puppet/common.yaml
      - common.yaml
